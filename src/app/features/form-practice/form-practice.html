<div class="container mx-auto p-10 max-w-lg">
  <h1 class="text-2xl font-bold mb-6 text-gray-800">Reactive Forms (Native Input)</h1>

  <form
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    autocomplete="off"
    class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 space-y-4"
  >
    <div class="flex flex-col gap-1">
      <label class="text-sm font-medium text-gray-700"> Ismingiz </label>
      <input
        type="text"
        formControlName="firstName"
        placeholder="Ali"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        [class.border-red-500]="f['firstName'].invalid && f['firstName'].touched"
      />
      @if (f['firstName'].invalid && f['firstName'].touched) {
        <span class="text-xs text-red-500">Ism kamida 3 ta harf bo'lishi kerak</span>
      }
    </div>
    <div class="flex flex-col gap-1">
      <label class="text-sm font-medium text-gray-700">Familiya</label>
      <input
        type="text"
        formControlName="lastName"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        [class.border-red-500]="f['lastName'].invalid && f['lastName'].touched"
      />
      @if (f['lastName'].hasError('required') && f['lastName'].touched) {
        <span class="text-xs text-red-500">Familiya kiritish shart</span>
      }
    </div>
    <div class="flex flex-col gap-1">
      <label class="text-sm font-medium text-gray-700">Email</label>
      <input
        type="email"
        formControlName="email"
        placeholder="example@mail.com"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
      />
      @if (f['email'].invalid && f['email'].touched) {
        <span class="text-xs text-red-500">Email noto'g'ri formatda</span>
      }
    </div>
    <div class="flex flex-col gap-1">
      <label class="text-sm font-medium text-gray-700">Parol</label>
      <input
        type="password"
        formControlName="password"
        autocomplete="new-password"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
      />
      @if (f['password'].invalid && f['password'].touched) {
        <span class="text-xs text-red-500">Parol kamida 6 ta belgi bo'lishi kerak</span>
      }
    </div>

    <div class="flex items-center gap-2">
      <input
        type="checkbox"
        formControlName="agree"
        id="agree"
        class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
      />
      <label for="agree" class="text-sm text-gray-700">Qoidalarga roziman</label>
    </div>
    @if (f['agree'].invalid && f['agree'].touched) {
      <div class="text-xs text-red-500">Rozilik bildirishingiz shart</div>
    }

    <button
      type="submit"
      class="w-full bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed"
    >
      Yuborish
    </button>
  </form>

  <div class="mt-8 bg-gray-900 text-green-400 p-4 rounded-lg text-sm font-mono">
    <p class="text-gray-500 mb-2">// Jonli natija:</p>
    {{ form.value | json }}

    <p class="text-gray-500 mt-4 mb-2">// Status:</p>
    {{ form.status }}
  </div>
</div>

<div class="container mx-auto p-10 max-w-lg">
  <h1 class="text-3xl text-center">new form</h1>
  <form
    [formGroup]="newForm"
    class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 space-y-4"
  >
    <div class="flex flex-col gap-1">
      <label class="text-sm font-medium text-gray-700"> name </label>
      <input
        type="text"
        formControlName="name"
        placeholder="Ali"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        [class.border-red-500]="newF['name'].invalid && newF['name'].touched"
      />
      @if (newF['name'].invalid && newF['name'].touched) {
        <span class="text-xs text-red-500"
          >Ism kamida 3 ta belgi 6 ta belgidan oshmasligi kerak</span
        >
      }
    </div>

    <div class="flex flex-col gap-1 mt-2">
      <label class="text-sm font-medium text-gray-700">lastName</label>
      <input
        formControlName="lastName"
        type="text"
        placeholder="vali"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        [class.border-red-500]="newF['lastName'].invalid && newF['lastName'].touched"
      />
      @if (newF['lastName'].invalid && newF['lastName'].touched) {
        <span class="text-xs text-red-500"></span>
      }
    </div>
    <div class="flex flex-col gap-1 mt-2">
      <label class="text-sm font-medium text-gray-700">address</label>
      <input
        formControlName="address"
        type="text"
        placeholder="adress"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        [class.border-red-500]="newF['address'].invalid && newF['address'].touched"
      />
      @if (newF['address'].invalid && newF['address'].touched) {
        <span class="text-xs text-red-500"></span>
      }
    </div>
    <div class="flex items-center gap-2">
      <input
        type="checkbox"
        formControlName="isMarried"
        id="isMarried"
        class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
      />
      <label for="isMarried" class="text-sm text-gray-700">uylanganmi?</label>
    </div>

    <div>
      <label for="">oldJob</label>
      <input
        [class.border-red-500]="newF['oldJob'].invalid && newF['oldJob'].touched"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        type="text"
        formControlName="oldJob"
      />
    </div>
    <div>
      <label for="">email</label>
      <input
        [class.border-red-500]="newF['email'].invalid && newF['email'].touched"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        type="text"
        formControlName="email"
      />
    </div>
    <div>
      <label for="">age</label>
      <input
        [class.border-red-500]="newF['age'].invalid && newF['age'].touched"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        type="text"
        formControlName="age"
      />
    </div>
  </form>
</div>
